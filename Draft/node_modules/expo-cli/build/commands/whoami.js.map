{"version":3,"sources":["../../src/commands/whoami.ts"],"names":["action","command","user","UserManager","getCurrentUserAsync","silent","parent","nonInteractive","Log","nested","username","log","chalk","cyan","process","exit","program","helpGroup","alias","description","asyncAction"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,MAAf,CAAsBC,OAAtB,EAAwC;AACtC,QAAMC,IAAI,GAAG,MAAMC,mBAAYC,mBAAZ,CAAgC;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAhC,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AAAA;;AACR,2BAAID,OAAO,CAACK,MAAZ,oDAAI,gBAAgBC,cAApB,EAAoC;AAClCC,qBAAIC,MAAJ,CAAWP,IAAI,CAACQ,QAAhB;AACD,KAFD,MAEO;AACLF,qBAAIG,GAAJ,CAAS,gBAAeC,iBAAMC,IAAN,CAAWX,IAAI,CAACQ,QAAhB,CAA0B,EAAlD;AACD;AACF,GAND,MAMO;AACLF,mBAAIG,GAAJ,CAAS,6BAA4BC,iBAAMC,IAAK,YAAY,kBAA5D;;AACAC,IAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACD;AACF;;AAEc,kBAAUC,OAAV,EAA4B;AACzCA,EAAAA,OAAO,CACJf,OADH,CACW,QADX,EAEGgB,SAFH,CAEa,MAFb,EAGGC,KAHH,CAGS,GAHT,EAIGC,WAJH,CAIe,4CAJf,EAKGC,WALH,CAKepB,MALf;AAMD","sourcesContent":["import { UserManager } from '@expo/xdl';\nimport chalk from 'chalk';\nimport { Command } from 'commander';\n\nimport Log from '../log';\n\nasync function action(command: Command) {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (command.parent?.nonInteractive) {\n      Log.nested(user.username);\n    } else {\n      Log.log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n  } else {\n    Log.log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n\nexport default function (program: Command) {\n  program\n    .command('whoami')\n    .helpGroup('auth')\n    .alias('w')\n    .description('Return the currently authenticated account')\n    .asyncAction(action);\n}\n"],"file":"whoami.js"}